<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar System Information - NEXUS CORE</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #08090A 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
            min-height: 100vh;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 5s infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        .shooting-star {
            position: absolute;
            width: 2px;
            height: 2px;
            background-color: white;
            box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.8);
            animation: shooting 3s linear infinite;
            opacity: 0;
        }

        @keyframes shooting {
            0% {
                transform: translateX(0) translateY(0) rotate(45deg);
                opacity: 1;
            }
            70% {
                opacity: 1;
            }
            100% {
                transform: translateX(300px) translateY(300px) rotate(45deg);
                opacity: 0;
            }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            padding: 40px 0;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.1) 0%, rgba(255, 215, 0, 0) 70%);
            animation: rotate 30s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        h1 {
            font-size: 3em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
            position: relative;
            z-index: 1;
        }

        .subtitle {
            font-size: 1.2em;
            color: #a0a0a0;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            position: relative;
            z-index: 1;
        }

        .back-btn, .refresh-btn, .compare-btn {
            display: inline-block;
            padding: 12px 30px;
            color: white;
            text-decoration: none;
            border-radius: 25px;
            transition: all 0.3s ease;
            font-weight: bold;
            border: none;
            cursor: pointer;
        }

        .back-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
        }

        .refresh-btn {
            background: linear-gradient(45deg, #2196F3, #1976D2);
        }

        .compare-btn {
            background: linear-gradient(45deg, #9C27B0, #7B1FA2);
        }

        .back-btn:hover, .refresh-btn:hover, .compare-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.2);
        }

        .api-status {
            text-align: center;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 1;
        }

        .loading {
            color: #FFD700;
            font-weight: bold;
        }

        .error {
            color: #ff6b6b;
            font-weight: bold;
        }

        .success {
            color: #4CAF50;
            font-weight: bold;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .info-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .info-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #FFD700, #FFA500);
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .info-card h2 {
            color: #FFD700;
            margin-bottom: 15px;
            font-size: 1.5em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .planet-icon {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-block;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
        }

        .sun-icon { background: radial-gradient(circle, #FDB813, #FFA000); }
        .mercury-icon { background: radial-gradient(circle, #8C7853, #6B5D54); }
        .venus-icon { background: radial-gradient(circle, #FFC649, #FFB300); }
        .earth-icon { background: radial-gradient(circle, #4A90E2, #2E7CD6); }
        .mars-icon { background: radial-gradient(circle, #CD5C5C, #B22222); }
        .jupiter-icon { background: radial-gradient(circle, #DAA520, #B8860B); }
        .saturn-icon { background: radial-gradient(circle, #F4E4C1, #D2B48C); }
        .uranus-icon { background: radial-gradient(circle, #4FD0E0, #40E0D0); }
        .neptune-icon { background: radial-gradient(circle, #4169E1, #1E90FF); }
        .meteorite-icon { background: radial-gradient(circle, #8B4513, #654321); }
        .star-icon { background: radial-gradient(circle, #FFFFFF, #E0E0E0); }

        .info-card p {
            color: #e0e0e0;
            margin-bottom: 10px;
        }

        .info-card .highlight {
            color: #FFD700;
            font-weight: bold;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 10px;
            border-radius: 8px;
            border-left: 3px solid #FFD700;
        }

        .stat-label {
            font-size: 0.9em;
            color: #a0a0a0;
        }

        .stat-value {
            font-size: 1.1em;
            font-weight: bold;
            color: #ffffff;
        }

        .nasa-image-container {
            position: relative;
            margin-top: 15px;
            border-radius: 10px;
            overflow: hidden;
            background: rgba(0, 0, 0, 0.2);
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nasa-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            transition: transform 0.3s ease;
        }

        .nasa-image:hover {
            transform: scale(1.05);
        }

        .nasa-caption {
            font-size: 0.9em;
            color: #a0a0a0;
            margin-top: 5px;
            font-style: italic;
        }

        .image-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nasa-image-container:hover .image-overlay {
            opacity: 1;
        }

        .view-full-btn {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .view-full-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .details-section {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .details-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            user-select: none;
        }

        .details-header h3 {
            color: #FFD700;
            margin: 0;
            font-size: 1.2em;
        }

        .toggle-icon {
            font-size: 1.2em;
            color: #FFD700;
            transition: transform 0.3s ease;
        }

        .toggle-icon.expanded {
            transform: rotate(180deg);
        }

        .details-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .details-content.expanded {
            max-height: 1000px;
            overflow: visible;
        }

        .details-list {
            list-style: none;
        }

        .details-list li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
            color: #e0e0e0;
        }

        .details-list li:before {
            content: "•";
            position: absolute;
            left: 0;
            color: #FFD700;
        }

        .timeline {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
            position: relative;
        }

        .timeline h2 {
            color: #FFD700;
            margin-bottom: 20px;
            text-align: center;
        }

        .timeline-item {
            display: flex;
            margin-bottom: 20px;
            align-items: center;
            position: relative;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 50px;
            top: 30px;
            height: calc(100% + 10px);
            width: 2px;
            background: rgba(255, 215, 0, 0.3);
        }

        .timeline-item:last-child::before {
            display: none;
        }

        .timeline-year {
            background: #FFD700;
            color: #000;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            min-width: 100px;
            text-align: center;
            z-index: 1;
        }

        .timeline-content {
            margin-left: 20px;
            color: #e0e0e0;
            z-index: 1;
        }

        .fun-facts {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            padding: 30px;
            backdrop-filter: blur(10px);
        }

        .fun-facts h2 {
            color: #FFD700;
            margin-bottom: 20px;
            text-align: center;
        }

        .fact-list {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
        }

        .fact-list li {
            margin-bottom: 15px;
            padding-left: 30px;
            position: relative;
            color: #e0e0e0;
        }

        .fact-list li:before {
            content: "⭐";
            position: absolute;
            left: 0;
            color: #FFD700;
        }

        .comparison-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .comparison-content {
            background: rgba(26, 26, 46, 0.95);
            border-radius: 15px;
            padding: 30px;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            color: #FFD700;
            cursor: pointer;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .comparison-table th, .comparison-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .comparison-table th {
            color: #FFD700;
            font-weight: bold;
        }

        .comparison-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .planet-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .planet-checkbox {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            cursor: pointer;
        }

        .planet-checkbox input {
            cursor: pointer;
        }

        .planet-checkbox label {
            cursor: pointer;
        }

        .image-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .image-modal-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }

        .image-modal img {
            width: 100%;
            height: auto;
            border-radius: 10px;
        }

        .image-modal-caption {
            color: white;
            text-align: center;
            margin-top: 15px;
            font-style: italic;
        }

        .close-image-modal {
            position: absolute;
            top: -40px;
            right: 0;
            font-size: 30px;
            color: white;
            cursor: pointer;
        }

        .section-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 10px;
        }

        .tab-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-btn.active {
            background: rgba(255, 215, 0, 0.2);
            border-color: #FFD700;
            color: #FFD700;
        }

        .tab-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .meteorite-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .meteorite-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .meteorite-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255, 255, 255, 0.1);
        }

        .meteorite-card h3 {
            color: #FFD700;
            margin-bottom: 10px;
        }

        .meteorite-card p {
            color: #e0e0e0;
            margin-bottom: 5px;
        }

        .stars-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .star-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .star-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255, 255, 255, 0.1);
        }

        .star-card h3 {
            color: #FFD700;
            margin-bottom: 10px;
        }

        .star-card p {
            color: #e0e0e0;
            margin-bottom: 5px;
        }

        .star-properties {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .star-property {
            background: rgba(255, 255, 255, 0.05);
            padding: 8px;
            border-radius: 5px;
            border-left: 3px solid #FFD700;
        }

        .star-property-label {
            font-size: 0.8em;
            color: #a0a0a0;
        }

        .star-property-value {
            font-size: 1em;
            font-weight: bold;
            color: #ffffff;
        }

        footer {
            text-align: center;
            padding: 30px 0;
            color: #a0a0a0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 40px;
        }

        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            border-radius: 10px;
            border-left: 4px solid #FFD700;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .notification.show {
            transform: translateX(0);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .stats {
                grid-template-columns: 1fr;
            }
            
            .fact-list {
                grid-template-columns: 1fr;
            }
            
            .nav-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .comparison-table {
                font-size: 0.9em;
            }
            
            .section-tabs {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="stars" id="stars-container"></div>
    
    <div class="container">
        <header>
            <h1>Solar System Information</h1>
            <p class="subtitle">Explore the Wonders of Our Cosmic Neighborhood</p>
            <div class="api-status" id="api-status">
                <div class="loading">Loading NASA data...</div>
            </div>
            <div class="nav-buttons">
                <a href="index.html" class="back-btn">← Back to 3D Solar System</a>
                <button class="refresh-btn" id="refresh-btn">Refresh NASA Data</button>
                <button class="compare-btn" id="compare-btn">Compare Planets</button>
            </div>
        </header>

        <div class="section-tabs">
            <button class="tab-btn active" data-tab="planets">Planets</button>
            <button class="tab-btn" data-tab="meteorites">Meteorites</button>
            <button class="tab-btn" data-tab="stars">Stars</button>
        </div>

        <div class="tab-content active" id="planets-tab">
            <div class="info-grid" id="planet-cards">
                <!-- Planet cards will be dynamically inserted here -->
            </div>
        </div>

        <div class="tab-content" id="meteorites-tab">
            <div class="meteorite-grid" id="meteorite-cards">
                <!-- Meteorite cards will be dynamically inserted here -->
            </div>
        </div>

        <div class="tab-content" id="stars-tab">
            <div class="stars-grid" id="star-cards">
                <!-- Star cards will be dynamically inserted here -->
            </div>
        </div>

        <div class="timeline">
            <h2>Solar System Formation Timeline</h2>
            <div class="timeline-item">
                <div class="timeline-year">4.6 BYA</div>
                <div class="timeline-content">Solar nebula begins to collapse due to gravitational forces</div>
            </div>
            <div class="timeline-item">
                <div class="timeline-year">4.59 BYA</div>
                <div class="timeline-content">Sun forms as the central star, planets begin forming</div>
            </div>
            <div class="timeline-item">
                <div class="timeline-year">4.5 BYA</div>
                <div class="timeline-content">Earth and other terrestrial planets form</div>
            </div>
            <div class="timeline-item">
                <div class="timeline-year">4.2 BYA</div>
                <div class="timeline-content">Late Heavy Bombardment period - intense asteroid impacts</div>
            </div>
            <div class="timeline-item">
                <div class="timeline-year">3.8 BYA</div>
                <div class="timeline-content">First life appears on Earth</div>
            </div>
        </div>

        <div class="fun-facts">
            <h2>Amazing Solar System Facts</h2>
            <ul class="fact-list">
                <li>The Sun contains 99.86% of the Solar System's mass</li>
                <li>One day on Venus is longer than its year</li>
                <li>Jupiter's Great Red Spot is a storm that has been raging for over 350 years</li>
                <li>Saturn's rings are made mostly of ice particles and rock debris</li>
                <li>If you could fold a piece of paper 42 times, it would reach the Moon</li>
                <li>The footprints on the Moon will be there for 100 million years</li>
                <li>Venus is the hottest planet, not Mercury</li>
                <li>There are more stars in the universe than grains of sand on Earth</li>
                <li>The Sun loses about 4 million tons of mass per second due to nuclear fusion</li>
                <li>It would take 9 years to walk to the Moon</li>
            </ul>
        </div>

        <footer>
            <p>&copy; NEXUS CORE </p>
            <p></p>
        </footer>
    </div>

    <!-- Comparison Modal -->
    <div class="comparison-modal" id="comparison-modal">
        <div class="comparison-content">
            <span class="close-modal" id="close-comparison">&times;</span>
            <h2>Compare Planets</h2>
            <div class="planet-selector" id="planet-selector">
                <!-- Planet checkboxes will be dynamically inserted here -->
            </div>
            <table class="comparison-table" id="comparison-table">
                <!-- Comparison table will be dynamically generated -->
            </table>
        </div>
    </div>

    <!-- Image Modal -->
    <div class="image-modal" id="image-modal">
        <div class="image-modal-content">
            <span class="close-image-modal" id="close-image-modal">&times;</span>
            <img id="modal-image" src="" alt="">
            <div class="image-modal-caption" id="image-caption"></div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script src="nasa-api.js"></script>
    <script>
        // Enhanced planet data with more detailed information
        const planets = [
            {
                name: 'Sun',
                description: 'Our star, a nearly perfect sphere of hot plasma, is the heart of our solar system.',
                stats: [
                    { label: 'Diameter', value: '1.39 million km' },
                    { label: 'Surface Temperature', value: '5,778 K' },
                    { label: 'Core Temperature', value: '15 million °C' },
                    { label: 'Age', value: '4.6 billion years' }
                ],
                details: {
                    age: '4.6 billion years old, formed from a collapsing cloud of gas and dust',
                    composition: '73% hydrogen, 25% helium, 2% heavier elements',
                    structure: 'Core (0-0.2 solar radii), Radiative zone (0.2-0.7), Convection zone (0.7-1.0), Photosphere (surface)',
                    energy: 'Produces 386 billion billion megawatts of energy per second',
                    lifespan: 'Will continue shining for another 5 billion years before becoming a red giant',
                    magneticField: 'Extends beyond Pluto, creates the heliosphere',
                    solarWind: 'Streams of charged particles that travel at 450 km/s',
                    future: 'Will eventually expand to engulf Mercury, Venus, and possibly Earth'
                },
                comparisonData: {
                    diameter: '1,391,000 km',
                    mass: '1.989 × 10^30 kg',
                    gravity: '274 m/s²',
                    temperature: '5,778 K',
                    moons: '0',
                    dayLength: '25 Earth days',
                    yearLength: 'N/A'
                }
            },
            {
                name: 'Mercury',
                description: 'The smallest planet in our solar system and closest to the Sun.',
                stats: [
                    { label: 'Distance from Sun', value: '57.9 million km' },
                    { label: 'Orbital Period', value: '88 Earth days' },
                    { label: 'Day Length', value: '59 Earth days' },
                    { label: 'Moons', value: '0' }
                ],
                details: {
                    age: '4.5 billion years old, formed in the inner solar system',
                    composition: '70% metallic, 30% silicate material, with a large iron core',
                    surface: 'Heavily cratered, similar to Earth\'s Moon, with cliffs and scarps',
                    atmosphere: 'Extremely thin, composed of oxygen, sodium, hydrogen, helium, and potassium',
                    temperature: 'Ranges from -173°C at night to 427°C during the day',
                    magneticField: 'Only about 1% of Earth\'s magnetic field strength',
                    waterIce: 'Water ice exists in permanently shadowed craters at the poles',
                    exploration: 'Visited by Mariner 10 (1974-75) and MESSENGER (2011-2015)',
                    unusualFeature: 'Has an eccentric orbit that varies from 46 to 70 million km from the Sun'
                },
                comparisonData: {
                    diameter: '4,879 km',
                    mass: '3.285 × 10^23 kg',
                    gravity: '3.7 m/s²',
                    temperature: '167°C (average)',
                    moons: '0',
                    dayLength: '59 Earth days',
                    yearLength: '88 Earth days'
                }
            },
            {
                name: 'Venus',
                description: 'The hottest planet in our solar system, often called Earth\'s twin.',
                stats: [
                    { label: 'Distance from Sun', value: '108.2 million km' },
                    { label: 'Orbital Period', value: '225 Earth days' },
                    { label: 'Day Length', value: '243 Earth days' },
                    { label: 'Moons', value: '0' }
                ],
                details: {
                    age: '4.5 billion years old, formed in the inner solar system',
                    composition: 'Similar to Earth in size and density, with a rocky surface',
                    atmosphere: '96.5% carbon dioxide, 3.5% nitrogen, with clouds of sulfuric acid',
                    greenhouseEffect: 'Extreme greenhouse effect creates surface temperatures of 462°C',
                    rotation: 'Rotates backwards (retrograde) compared to most planets',
                    surface: 'Volcanic plains, highland regions, and thousands of volcanoes',
                    magneticField: 'No intrinsic magnetic field, but has an induced one from solar wind',
                    pressure: 'Surface pressure is 92 times that of Earth',
                    exploration: 'Visited by over 40 spacecraft, including Venera, Magellan, and Venus Express',
                    unusualFeature: 'Longest day of any planet (243 Earth days) but shortest year (225 Earth days)'
                },
                comparisonData: {
                    diameter: '12,104 km',
                    mass: '4.867 × 10^24 kg',
                    gravity: '8.87 m/s²',
                    temperature: '462°C',
                    moons: '0',
                    dayLength: '243 Earth days',
                    yearLength: '225 Earth days'
                }
            },
            {
                name: 'Earth',
                description: 'Our home planet, the only known planet with life.',
                stats: [
                    { label: 'Distance from Sun', value: '149.6 million km' },
                    { label: 'Orbital Period', value: '365.25 days' },
                    { label: 'Day Length', value: '24 hours' },
                    { label: 'Moons', value: '1 (Moon)' }
                ],
                details: {
                    age: '4.54 billion years old, formed in the habitable zone',
                    composition: '32.1% iron, 30.1% oxygen, 15.1% silicon, 13.9% magnesium, other elements',
                    atmosphere: '78% nitrogen, 21% oxygen, with trace amounts of other gases',
                    water: '71% of surface covered by water, essential for life as we know it',
                    magneticField: 'Generated by molten iron core, protects from solar wind',
                    tectonics: 'Only known planet with active plate tectonics',
                    moon: 'Moon formed 4.5 billion years ago from debris after a Mars-sized object hit Earth',
                    life: 'Home to millions of species, with humans appearing around 300,000 years ago',
                    unusualFeature: 'Only known planet with confirmed life and liquid water on surface'
                },
                comparisonData: {
                    diameter: '12,742 km',
                    mass: '5.972 × 10^24 kg',
                    gravity: '9.8 m/s²',
                    temperature: '15°C (average)',
                    moons: '1',
                    dayLength: '24 hours',
                    yearLength: '365.25 days'
                }
            },
            {
                name: 'Mars',
                description: 'The Red Planet, named after the Roman god of war.',
                stats: [
                    { label: 'Distance from Sun', value: '227.9 million km' },
                    { label: 'Orbital Period', value: '687 Earth days' },
                    { label: 'Day Length', value: '24.6 hours' },
                    { label: 'Moons', value: '2 (Phobos, Deimos)' }
                ],
                details: {
                    age: '4.5 billion years old, formed in the inner solar system',
                    composition: 'Rocky with iron, magnesium, aluminum, silicon, and oxygen',
                    atmosphere: '95% carbon dioxide, 2.7% nitrogen, 1.6% argon, with trace amounts of oxygen',
                    color: 'Red appearance due to iron oxide (rust) on its surface',
                    water: 'Evidence of ancient rivers, lakes, and possibly oceans',
                    moons: 'Phobos (larger, closer) and Deimos (smaller, farther), likely captured asteroids',
                    volcanoes: 'Home to Olympus Mons, the largest volcano in the solar system (21 km high)',
                    exploration: 'Visited by numerous rovers including Sojourner, Spirit, Opportunity, Curiosity, and Perseverance',
                    unusualFeature: 'Has the largest dust storms in the solar system, sometimes covering the entire planet'
                },
                comparisonData: {
                    diameter: '6,779 km',
                    mass: '6.39 × 10^23 kg',
                    gravity: '3.71 m/s²',
                    temperature: '-65°C (average)',
                    moons: '2',
                    dayLength: '24.6 hours',
                    yearLength: '687 Earth days'
                }
            },
            {
                name: 'Jupiter',
                description: 'The largest planet in our solar system, a gas giant.',
                stats: [
                    { label: 'Distance from Sun', value: '778.5 million km' },
                    { label: 'Orbital Period', value: '12 Earth years' },
                    { label: 'Day Length', value: '9.9 hours' },
                    { label: 'Moons', value: '95 known moons' }
                ],
                details: {
                    age: '4.5 billion years old, formed beyond the frost line',
                    composition: '90% hydrogen, 10% helium, with traces of other gases',
                    structure: 'Core of rock and ice, surrounded by metallic hydrogen, liquid hydrogen, and gaseous hydrogen',
                    greatRedSpot: 'Giant storm that has been raging for at least 350 years, larger than Earth',
                    magneticField: 'Strongest magnetic field of any planet, 14 times stronger than Earth\'s',
                    moons: 'Four large Galilean moons (Io, Europa, Ganymede, Callisto) and 91 smaller moons',
                    rings: 'Faint ring system composed of dust particles',
                    exploration: 'Visited by Pioneer 10, Voyager 1 & 2, Galileo orbiter, and Juno',
                    unusualFeature: 'Acts as a "vacuum cleaner" protecting inner planets from asteroids and comets'
                },
                comparisonData: {
                    diameter: '139,820 km',
                    mass: '1.898 × 10^27 kg',
                    gravity: '24.79 m/s²',
                    temperature: '-110°C',
                    moons: '95',
                    dayLength: '9.9 hours',
                    yearLength: '12 Earth years'
                }
            },
            {
                name: 'Saturn',
                description: 'Famous for its spectacular ring system.',
                stats: [
                    { label: 'Distance from Sun', value: '1.43 billion km' },
                    { label: 'Orbital Period', value: '29.5 Earth years' },
                    { label: 'Day Length', value: '10.7 hours' },
                    { label: 'Moons', value: '146 known moons' }
                ],
                details: {
                    age: '4.5 billion years old, formed beyond the frost line',
                    composition: '96% hydrogen, 3% helium, with traces of other gases',
                    density: 'Least dense planet - would float in water',
                    rings: 'Made of billions of ice and rock particles, ranging from tiny grains to house-sized chunks',
                    ringAge: 'Rings are relatively young, likely formed 100 million years ago',
                    moons: 'Titan (larger than Mercury, has thick atmosphere), Enceladus (has subsurface ocean), and 144 others',
                    hexagonStorm: 'Mysterious hexagonal storm at its north pole',
                    exploration: 'Visited by Pioneer 11, Voyager 1 & 2, and Cassini orbiter (2004-2017)',
                    unusualFeature: 'Has the most extensive and spectacular ring system in the solar system'
                },
                comparisonData: {
                    diameter: '116,460 km',
                    mass: '5.683 × 10^26 kg',
                    gravity: '10.44 m/s²',
                    temperature: '-140°C',
                    moons: '146',
                    dayLength: '10.7 hours',
                    yearLength: '29.5 Earth years'
                }
            },
            {
                name: 'Uranus',
                description: 'An ice giant tilted on its side, rotating almost perpendicular to its orbit.',
                stats: [
                    { label: 'Distance from Sun', value: '2.87 billion km' },
                    { label: 'Orbital Period', value: '84 Earth years' },
                    { label: 'Day Length', value: '17.2 hours' },
                    { label: 'Moons', value: '27 known moons' }
                ],
                details: {
                    age: '4.5 billion years old, formed in the outer solar system',
                    composition: '83% hydrogen, 15% helium, 2% methane (gives it blue-green color)',
                    tilt: 'Tilted at 98 degrees, essentially rotating on its side',
                    seasons: 'Extreme seasons due to its tilt, with 21-year seasonal cycle',
                    rings: 'Faint ring system discovered in 1977, much less prominent than Saturn\'s',
                    moons: 'Five major moons (Miranda, Ariel, Umbriel, Titania, Oberon) and 22 smaller ones',
                    temperature: 'Coldest planetary atmosphere in solar system, -224°C',
                    magneticField: 'Unusual magnetic field, tilted 59 degrees from its axis',
                    exploration: 'Visited only by Voyager 2 in 1986',
                    unusualFeature: 'Only planet that rotates nearly perpendicular to its orbital plane'
                },
                comparisonData: {
                    diameter: '50,724 km',
                    mass: '8.681 × 10^25 kg',
                    gravity: '8.87 m/s²',
                    temperature: '-224°C',
                    moons: '27',
                    dayLength: '17.2 hours',
                    yearLength: '84 Earth years'
                }
            },
            {
                name: 'Neptune',
                description: 'The windiest planet in our solar system, with speeds reaching 2,100 km/h.',
                stats: [
                    { label: 'Distance from Sun', value: '4.5 billion km' },
                    { label: 'Orbital Period', value: '165 Earth years' },
                    { label: 'Day Length', value: '16.1 hours' },
                    { label: 'Moons', value: '16 known moons' }
                ],
                details: {
                    age: '4.5 billion years old, formed in the outer solar system',
                    composition: '80% hydrogen, 19% helium, 1% methane (gives it deep blue color)',
                    winds: 'Fastest winds in solar system, reaching speeds of 2,100 km/h',
                    greatDarkSpot: 'Large storm system similar to Jupiter\'s Great Red Spot',
                    moons: 'Triton (largest, has retrograde orbit and geysers of nitrogen), Nereid, and 14 others',
                    discovery: 'First planet located through mathematical predictions rather than direct observation',
                    temperature: 'One of the coldest planets, with atmospheric temperatures of -214°C',
                    rings: 'Faint ring system with five main rings',
                    exploration: 'Visited only by Voyager 2 in 1989',
                    unusualFeature: 'Has the fastest winds and most extreme weather in the solar system'
                },
                comparisonData: {
                    diameter: '49,244 km',
                    mass: '1.024 × 10^26 kg',
                    gravity: '11.15 m/s²',
                    temperature: '-214°C',
                    moons: '16',
                    dayLength: '16.1 hours',
                    yearLength: '165 Earth years'
                }
            }
        ];

        // Meteorite data
        const meteorites = [
            {
                name: 'Chelyabinsk Meteorite',
                type: 'Chondrite',
                location: 'Russia',
                date: '2013-02-15',
                size: '20 meters',
                description: 'A superbolide that entered Earth\'s atmosphere over Russia in 2013, creating a shock wave that damaged buildings and injured thousands.',
                composition: 'Ordinary chondrite with minerals like olivine and pyroxene',
                impact: 'Air burst at 29.7 km altitude, releasing energy equivalent to 400-500 kilotons of TNT'
            },
            {
                name: 'Hoba Meteorite',
                type: 'Iron',
                location: 'Namibia',
                date: 'Ancient',
                size: '2.7 × 2.7 × 0.9 meters',
                description: 'The largest known meteorite on Earth, weighing approximately 60 tons. It fell in prehistoric times and has never been moved.',
                composition: '84% iron, 16% nickel, with traces of cobalt',
                impact: 'Largest intact meteorite, discovered in 1920, now a national monument'
            },
            {
                name: 'Willamette Meteorite',
                type: 'Iron',
                location: 'Oregon, USA',
                date: 'Ancient',
                size: '3.2 meters long',
                description: 'The largest meteorite found in the United States, weighing 15.5 tons. It was discovered in 1902.',
                composition: '91% iron, 7.6% nickel, with traces of iridium and gallium',
                impact: 'Display at the American Museum of Natural History since 1906'
            },
            {
                name: 'Allende Meteorite',
                type: 'Carbonaceous Chondrite',
                location: 'Mexico',
                date: '1969-02-08',
                size: 'Scattered over 48 square km',
                description: 'Fell over Chihuahua, Mexico, providing scientists with valuable information about the early solar system.',
                composition: 'Contains calcium-aluminum-rich inclusions (CAIs), the oldest known solids in the solar system',
                impact: 'Over 2 tons of material recovered, crucial for understanding solar system formation'
            },
            {
                name: 'Sikhote-Alin Meteorite',
                type: 'Iron',
                location: 'Russia',
                date: '1947-02-12',
                size: 'Fragmented in atmosphere',
                description: 'An iron meteorite that broke up in the atmosphere over Siberia, creating a shower of fragments.',
                composition: '93% iron, 5.9% nickel, with traces of cobalt, phosphorus, and sulfur',
                impact: 'Largest iron meteorite shower, with over 23 tons of material recovered'
            },
            {
                name: 'Murchison Meteorite',
                type: 'Carbonaceous Chondrite',
                location: 'Australia',
                date: '1969-09-28',
                size: '100 kg total',
                description: 'A carbonaceous chondrite that fell in Victoria, Australia, containing over 90 different amino acids.',
                composition: 'Rich in organic compounds, including amino acids and nucleobases',
                impact: 'Provided evidence for organic molecules in space, important for origin of life studies'
            }
        ];

        // Star data
        const stars = [
            {
                name: 'Proxima Centauri',
                type: 'Red Dwarf',
                distance: '4.24 light-years',
                magnitude: '11.05',
                description: 'The nearest known star to the Sun, part of the Alpha Centauri system.',
                properties: {
                    mass: '0.12 solar masses',
                    radius: '0.14 solar radii',
                    temperature: '3,042 K',
                    luminosity: '0.0017 solar luminosities',
                    age: '4.85 billion years',
                    planets: '3 known planets'
                },
                specialFeature: 'Hosts Proxima Centauri b, a potentially habitable exoplanet'
            },
            {
                name: 'Alpha Centauri A',
                type: 'G-type Main Sequence',
                distance: '4.37 light-years',
                magnitude: '-0.01',
                description: 'The brightest star in the Alpha Centauri system, very similar to our Sun.',
                properties: {
                    mass: '1.1 solar masses',
                    radius: '1.2 solar radii',
                    temperature: '5,790 K',
                    luminosity: '1.5 solar luminosities',
                    age: '5.3 billion years',
                    planets: 'No confirmed planets'
                },
                specialFeature: 'Very similar to the Sun, making it a key target for study'
            },
            {
                name: 'Alpha Centauri B',
                type: 'K-type Main Sequence',
                distance: '4.37 light-years',
                magnitude: '1.33',
                description: 'The second star in the Alpha Centauri system, slightly smaller and cooler than the Sun.',
                properties: {
                    mass: '0.91 solar masses',
                    radius: '0.86 solar radii',
                    temperature: '5,260 K',
                    luminosity: '0.5 solar luminosities',
                    age: '5.3 billion years',
                    planets: 'No confirmed planets'
                },
                specialFeature: 'Orbits Alpha Centauri A every 80 years'
            },
            {
                name: 'Sirius',
                type: 'Binary Star System',
                distance: '8.6 light-years',
                magnitude: '-1.46',
                description: 'The brightest star in the night sky, actually a binary system with Sirius A and B.',
                properties: {
                    mass: '2.06 solar masses (A), 0.98 solar masses (B)',
                    radius: '1.71 solar radii (A), 0.0084 solar radii (B)',
                    temperature: '9,940 K (A), 25,200 K (B)',
                    luminosity: '25.4 solar luminosities (A), 0.026 solar luminosities (B)',
                    age: '242 million years',
                    planets: 'No confirmed planets'
                },
                specialFeature: 'Brightest star in Earth\'s night sky, visible from both hemispheres'
            },
            {
                name: 'Betelgeuse',
                type: 'Red Supergiant',
                distance: '548 light-years',
                magnitude: '0.42',
                description: 'A red supergiant in the constellation Orion, one of the largest known stars.',
                properties: {
                    mass: '11.6 solar masses',
                    radius: '887 solar radii',
                    temperature: '3,500 K',
                    luminosity: '90,000-150,000 solar luminosities',
                    age: '8-8.5 million years',
                    planets: 'No confirmed planets'
                },
                specialFeature: 'Expected to explode as a supernova within the next 100,000 years'
            },
            {
                name: 'Vega',
                type: 'A-type Main Sequence',
                distance: '25 light-years',
                magnitude: '0.03',
                description: 'The brightest star in the constellation Lyra, once the northern pole star.',
                properties: {
                    mass: '2.14 solar masses',
                    radius: '2.36 solar radii',
                    temperature: '9,602 K',
                    luminosity: '40 solar luminosities',
                    age: '455 million years',
                    planets: 'Debris disk, no confirmed planets'
                },
                specialFeature: 'Was the northern pole star around 12,000 BCE and will be again around 13,727 CE'
            }
        ];

        // Create dynamic star background
        function createStarBackground() {
            const starsContainer = document.getElementById('stars-container');
            const starCount = 200;
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                
                // Random position
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                
                // Random size
                const size = Math.random() * 3;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                
                // Random animation delay
                star.style.animationDelay = `${Math.random() * 5}s`;
                
                starsContainer.appendChild(star);
            }
            
            // Add shooting stars
            for (let i = 0; i < 5; i++) {
                const shootingStar = document.createElement('div');
                shootingStar.className = 'shooting-star';
                
                // Random position
                shootingStar.style.left = `${Math.random() * 100}%`;
                shootingStar.style.top = `${Math.random() * 50}%`;
                
                // Random animation delay
                shootingStar.style.animationDelay = `${Math.random() * 10}s`;
                
                starsContainer.appendChild(shootingStar);
            }
        }

        // Function to create planet cards with enhanced details
        function createPlanetCard(planet, nasaData = null) {
            const planetName = planet.name.toLowerCase();
            const iconClass = planetName === 'sun' ? 'sun-icon' : `${planetName}-icon`;
            
            let nasaImageHTML = '';
            if (nasaData && nasaData.url) {
                nasaImageHTML = `
                    <div class="nasa-image-container">
                        <img src="${nasaData.url}" alt="${planet.name} - NASA Image" class="nasa-image" onload="this.style.opacity='1'" onerror="handleImageError(this, '${planetName}')">
                        <div class="image-overlay">
                            <button class="view-full-btn" data-url="${nasaData.url}" data-caption="${nasaData.title} - ${nasaData.date}">View Full Image</button>
                        </div>
                    </div>
                    <p class="nasa-caption">${nasaData.title} - ${nasaData.date}</p>
                `;
            }
            
            // Create details list from planet.details object
            let detailsHTML = '<div class="details-section"><div class="details-header" onclick="toggleDetails(this)"><h3>Key Details</h3><span class="toggle-icon">▼</span></div><div class="details-content"><ul class="details-list">';
            for (const [key, value] of Object.entries(planet.details)) {
                const formattedKey = key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());
                detailsHTML += `<li><strong>${formattedKey}:</strong> ${value}</li>`;
            }
            detailsHTML += '</ul></div></div>';
            
            return `
                <div class="info-card">
                    <h2><span class="planet-icon ${iconClass}"></span>${planet.name}</h2>
                    <p>${planet.description}</p>
                    ${nasaImageHTML}
                    <div class="stats">
                        ${planet.stats.map(stat => `
                            <div class="stat-item">
                                <div class="stat-label">${stat.label}</div>
                                <div class="stat-value">${stat.value}</div>
                            </div>
                        `).join('')}
                    </div>
                    ${detailsHTML}
                </div>
            `;
        }

        // Function to create meteorite cards with images
        function createMeteoriteCard(meteorite, nasaData = null) {
            let nasaImageHTML = '';
            if (nasaData && nasaData.url) {
                nasaImageHTML = `
                    <div class="nasa-image-container">
                        <img src="${nasaData.url}" alt="${meteorite.name} - NASA Image" class="nasa-image" onload="this.style.opacity='1'" onerror="handleImageError(this, 'meteorite')">
                        <div class="image-overlay">
                            <button class="view-full-btn" data-url="${nasaData.url}" data-caption="${nasaData.title} - ${nasaData.date}">View Full Image</button>
                        </div>
                    </div>
                    <p class="nasa-caption">${nasaData.title} - ${nasaData.date}</p>
                `;
            }
            
            return `
                <div class="meteorite-card">
                    <h3><span class="planet-icon meteorite-icon"></span>${meteorite.name}</h3>
                    ${nasaImageHTML}
                    <p><strong>Type:</strong> ${meteorite.type}</p>
                    <p><strong>Location:</strong> ${meteorite.location}</p>
                    <p><strong>Date:</strong> ${meteorite.date}</p>
                    <p><strong>Size:</strong> ${meteorite.size}</p>
                    <p>${meteorite.description}</p>
                    <div class="details-section">
                        <div class="details-header" onclick="toggleDetails(this)">
                            <h3>Composition & Impact</h3>
                            <span class="toggle-icon">▼</span>
                        </div>
                        <div class="details-content">
                            <ul class="details-list">
                                <li><strong>Composition:</strong> ${meteorite.composition}</li>
                                <li><strong>Impact:</strong> ${meteorite.impact}</li>
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        // Function to create star cards with images
        function createStarCard(star, nasaData = null) {
            let nasaImageHTML = '';
            if (nasaData && nasaData.url) {
                nasaImageHTML = `
                    <div class="nasa-image-container">
                        <img src="${nasaData.url}" alt="${star.name} - NASA Image" class="nasa-image" onload="this.style.opacity='1'" onerror="handleImageError(this, 'star')">
                        <div class="image-overlay">
                            <button class="view-full-btn" data-url="${nasaData.url}" data-caption="${nasaData.title} - ${nasaData.date}">View Full Image</button>
                        </div>
                    </div>
                    <p class="nasa-caption">${nasaData.title} - ${nasaData.date}</p>
                `;
            }
            
            return `
                <div class="star-card">
                    <h3><span class="planet-icon star-icon"></span>${star.name}</h3>
                    ${nasaImageHTML}
                    <p><strong>Type:</strong> ${star.type}</p>
                    <p><strong>Distance:</strong> ${star.distance}</p>
                    <p><strong>Magnitude:</strong> ${star.magnitude}</p>
                    <p>${star.description}</p>
                    <div class="star-properties">
                        ${Object.entries(star.properties).map(([key, value]) => `
                            <div class="star-property">
                                <div class="star-property-label">${key.charAt(0).toUpperCase() + key.slice(1)}</div>
                                <div class="star-property-value">${value}</div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="details-section">
                        <div class="details-header" onclick="toggleDetails(this)">
                            <h3>Special Feature</h3>
                            <span class="toggle-icon">▼</span>
                        </div>
                        <div class="details-content">
                            <p>${star.specialFeature}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Handle image loading errors
        function handleImageError(img, type) {
            console.warn(`Image failed to load for ${type}, using fallback`);
            
            // Use appropriate fallback based on type
            const fallbackUrls = {
                sun: 'https://images-assets.nasa.gov/image/PIA12348/PIA12348~orig.jpg',
                mercury: 'https://images-assets.nasa.gov/image/PIA19254/PIA19254~orig.jpg',
                venus: 'https://images-assets.nasa.gov/image/PIA00271/PIA00271~orig.jpg',
                earth: 'https://images-assets.nasa.gov/image/PIA00133/PIA00133~orig.jpg',
                mars: 'https://images-assets.nasa.gov/image/PIA04253/PIA04253~orig.jpg',
                jupiter: 'https://images-assets.nasa.gov/image/PIA02863/PIA02863~orig.jpg',
                saturn: 'https://images-assets.nasa.gov/image/PIA03550/PIA03550~orig.jpg',
                uranus: 'https://images-assets.nasa.gov/image/PIA01279/PIA01279~orig.jpg',
                neptune: 'https://images-assets.nasa.gov/image/PIA01492/PIA01492~orig.jpg',
                meteorite: 'https://images-assets.nasa.gov/image/PIA02194/PIA02194~orig.jpg',
                star: 'https://images-assets.nasa.gov/image/PIA04206/PIA04206~orig.jpg'
            };
            
            img.src = fallbackUrls[type] || fallbackUrls.sun;
            img.style.opacity = '1';
        }

        // Function to toggle details visibility
        function toggleDetails(element) {
            const content = element.nextElementSibling;
            const icon = element.querySelector('.toggle-icon');
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                icon.classList.remove('expanded');
            } else {
                content.classList.add('expanded');
                icon.classList.add('expanded');
            }
        }

        // Function to show notification
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = 'notification show';
            
            if (type === 'error') {
                notification.style.borderLeftColor = '#ff6b6b';
            } else if (type === 'success') {
                notification.style.borderLeftColor = '#4CAF50';
            } else {
                notification.style.borderLeftColor = '#FFD700';
            }
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Function to fetch NASA data for all planets
        async function fetchNASADataForAllPlanets() {
            const apiStatus = document.getElementById('api-status');
            const planetCards = document.getElementById('planet-cards');
            
            try {
                apiStatus.innerHTML = '<div class="loading">Fetching NASA data for all planets...</div>';
                
                // Fetch APOD for each planet
                const promises = planets.map(async (planet) => {
                    if (planet.name === 'Sun') {
                        // For the Sun, we'll get today's APOD
                        return nasaAPI.getAstronomyPictureOfTheDay();
                    } else {
                        // For planets, get their specific images
                        return nasaAPI.getPlanetImage(planet.name);
                    }
                });
                
                const results = await Promise.allSettled(promises);
                
                // Create planet cards with NASA data
                let cardsHTML = '';
                planets.forEach((planet, index) => {
                    const result = results[index];
                    const nasaData = result.status === 'fulfilled' ? result.value : null;
                    cardsHTML += createPlanetCard(planet, nasaData);
                });
                
                planetCards.innerHTML = cardsHTML;
                apiStatus.innerHTML = '<div class="success">Successfully loaded NASA data!</div>';
                
                // Add event listeners for view full image buttons
                document.querySelectorAll('.view-full-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const url = this.getAttribute('data-url');
                        const caption = this.getAttribute('data-caption');
                        openImageModal(url, caption);
                    });
                });
                
                // Fetch additional NASA data
                fetchAdditionalNASAData();
                
            } catch (error) {
                console.error('Error fetching NASA data:', error);
                apiStatus.innerHTML = '<div class="error">Error loading NASA data. Please try again later.</div>';
                showNotification('Error loading NASA data. Please try again later.', 'error');
                
                // Still display the planet cards without NASA images
                let cardsHTML = '';
                planets.forEach(planet => {
                    cardsHTML += createPlanetCard(planet);
                });
                planetCards.innerHTML = cardsHTML;
            }
        }

        // Function to fetch meteorite data with images
        async function fetchMeteoriteData() {
            const meteoriteCards = document.getElementById('meteorite-cards');
            
            try {
                // Fetch meteorite data from NASA API or use static data
                const meteoriteData = await nasaAPI.getMeteoriteData();
                
                // Fetch images for each meteorite
                const imagePromises = meteorites.map(meteorite => 
                    nasaAPI.getMeteoriteImage(meteorite.name)
                );
                
                const imageResults = await Promise.allSettled(imagePromises);
                
                let cardsHTML = '';
                if (meteoriteData && meteoriteData.length > 0) {
                    meteoriteData.slice(0, 6).forEach((meteorite, index) => {
                        const imageResult = imageResults[index];
                        const nasaData = imageResult.status === 'fulfilled' ? imageResult.value : null;
                        cardsHTML += createMeteoriteCard(meteorite, nasaData);
                    });
                } else {
                    // Use static data if API fails
                    meteorites.forEach((meteorite, index) => {
                        const imageResult = imageResults[index];
                        const nasaData = imageResult.status === 'fulfilled' ? imageResult.value : null;
                        cardsHTML += createMeteoriteCard(meteorite, nasaData);
                    });
                }
                
                meteoriteCards.innerHTML = cardsHTML;
                
                // Add event listeners for view full image buttons
                document.querySelectorAll('#meteorite-cards .view-full-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const url = this.getAttribute('data-url');
                        const caption = this.getAttribute('data-caption');
                        openImageModal(url, caption);
                    });
                });
                
            } catch (error) {
                console.error('Error fetching meteorite data:', error);
                
                // Use static data as fallback
                let cardsHTML = '';
                meteorites.forEach(meteorite => {
                    cardsHTML += createMeteoriteCard(meteorite);
                });
                meteoriteCards.innerHTML = cardsHTML;
            }
        }

        // Function to fetch star data with images
        async function fetchStarData() {
            const starCards = document.getElementById('star-cards');
            
            try {
                // Fetch star data from NASA API or use static data
                const starData = await nasaAPI.getStarData();
                
                // Fetch images for each star
                const imagePromises = stars.map(star => 
                    nasaAPI.getStarImage(star.name)
                );
                
                const imageResults = await Promise.allSettled(imagePromises);
                
                let cardsHTML = '';
                if (starData && starData.length > 0) {
                    starData.slice(0, 6).forEach((star, index) => {
                        const imageResult = imageResults[index];
                        const nasaData = imageResult.status === 'fulfilled' ? imageResult.value : null;
                        cardsHTML += createStarCard(star, nasaData);
                    });
                } else {
                    // Use static data if API fails
                    stars.forEach((star, index) => {
                        const imageResult = imageResults[index];
                        const nasaData = imageResult.status === 'fulfilled' ? imageResult.value : null;
                        cardsHTML += createStarCard(star, nasaData);
                    });
                }
                
                starCards.innerHTML = cardsHTML;
                
                // Add event listeners for view full image buttons
                document.querySelectorAll('#star-cards .view-full-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const url = this.getAttribute('data-url');
                        const caption = this.getAttribute('data-caption');
                        openImageModal(url, caption);
                    });
                });
                
            } catch (error) {
                console.error('Error fetching star data:', error);
                
                // Use static data as fallback
                let cardsHTML = '';
                stars.forEach(star => {
                    cardsHTML += createStarCard(star);
                });
                starCards.innerHTML = cardsHTML;
            }
        }

        // Function to fetch additional NASA data
        async function fetchAdditionalNASAData() {
            try {
                // Fetch Mars Rover photos
                const marsPhotos = await nasaAPI.getMarsRoverPhotos();
                if (marsPhotos && marsPhotos.length > 0) {
                    console.log('Latest Mars Rover Photos:', marsPhotos.slice(0, 3));
                }
                
                // Fetch Near Earth Objects
                const neoData = await nasaAPI.getNearEarthObjects();
                if (neoData) {
                    console.log('Near Earth Objects:', Object.keys(neoData).length);
                }
                
                // Fetch Space Weather data
                const spaceWeather = await nasaAPI.getSpaceWeatherData();
                if (spaceWeather && spaceWeather.length > 0) {
                    console.log('Latest Space Weather Notifications:', spaceWeather.slice(0, 3));
                }
            } catch (error) {
                console.error('Error fetching additional NASA data:', error);
            }
        }

        // Function to open image modal
        function openImageModal(url, caption) {
            const modal = document.getElementById('image-modal');
            const modalImage = document.getElementById('modal-image');
            const imageCaption = document.getElementById('image-caption');
            
            modalImage.src = url;
            imageCaption.textContent = caption;
            modal.style.display = 'flex';
        }

        // Function to close image modal
        function closeImageModal() {
            const modal = document.getElementById('image-modal');
            modal.style.display = 'none';
        }

        // Function to open comparison modal
        function openComparisonModal() {
            const modal = document.getElementById('comparison-modal');
            const planetSelector = document.getElementById('planet-selector');
            
            // Create planet checkboxes
            let checkboxesHTML = '';
            planets.forEach(planet => {
                checkboxesHTML += `
                    <div class="planet-checkbox">
                        <input type="checkbox" id="compare-${planet.name.toLowerCase()}" value="${planet.name}">
                        <label for="compare-${planet.name.toLowerCase()}">${planet.name}</label>
                    </div>
                `;
            });
            
            planetSelector.innerHTML = checkboxesHTML;
            modal.style.display = 'flex';
            
            // Add event listeners to checkboxes
            document.querySelectorAll('.planet-checkbox input').forEach(checkbox => {
                checkbox.addEventListener('change', updateComparisonTable);
            });
            
            // Initialize with first 3 planets selected
            document.getElementById('compare-sun').checked = true;
            document.getElementById('compare-earth').checked = true;
            document.getElementById('compare-mars').checked = true;
            updateComparisonTable();
        }

        // Function to close comparison modal
        function closeComparisonModal() {
            const modal = document.getElementById('comparison-modal');
            modal.style.display = 'none';
        }

        // Function to update comparison table
        function updateComparisonTable() {
            const table = document.getElementById('comparison-table');
            const selectedPlanets = [];
            
            // Get selected planets
            document.querySelectorAll('.planet-checkbox input:checked').forEach(checkbox => {
                const planetName = checkbox.value;
                const planet = planets.find(p => p.name === planetName);
                if (planet) selectedPlanets.push(planet);
            });
            
            if (selectedPlanets.length === 0) {
                table.innerHTML = '<p>Please select at least one planet to compare.</p>';
                return;
            }
            
            // Create table header
            let tableHTML = '<thead><tr><th>Property</th>';
            selectedPlanets.forEach(planet => {
                tableHTML += `<th>${planet.name}</th>`;
            });
            tableHTML += '</tr></thead><tbody>';
            
            // Add comparison data rows
            const properties = ['diameter', 'mass', 'gravity', 'temperature', 'moons', 'dayLength', 'yearLength'];
            const propertyLabels = {
                diameter: 'Diameter',
                mass: 'Mass',
                gravity: 'Gravity',
                temperature: 'Temperature',
                moons: 'Moons',
                dayLength: 'Day Length',
                yearLength: 'Year Length'
            };
            
            properties.forEach(property => {
                tableHTML += `<tr><td>${propertyLabels[property]}</td>`;
                selectedPlanets.forEach(planet => {
                    tableHTML += `<td>${planet.comparisonData[property]}</td>`;
                });
                tableHTML += '</tr>';
            });
            
            tableHTML += '</tbody>';
            table.innerHTML = tableHTML;
        }

        // Function to switch tabs
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tab buttons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(`${tabName}-tab`).classList.add('active');
            
            // Add active class to clicked tab button
            document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
            
            // Load data for the selected tab
            if (tabName === 'meteorites') {
                fetchMeteoriteData();
            } else if (tabName === 'stars') {
                fetchStarData();
            }
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            createStarBackground();
            fetchNASADataForAllPlanets();
            
            // Add refresh button functionality
            document.getElementById('refresh-btn').addEventListener('click', () => {
                fetchNASADataForAllPlanets();
                showNotification('NASA data refreshed successfully!', 'success');
            });
            
            // Add compare button functionality
            document.getElementById('compare-btn').addEventListener('click', openComparisonModal);
            
            // Add close modal functionality
            document.getElementById('close-comparison').addEventListener('click', closeComparisonModal);
            document.getElementById('close-image-modal').addEventListener('click', closeImageModal);
            
            // Add tab switching functionality
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    switchTab(this.getAttribute('data-tab'));
                });
            });
            
            // Close modals when clicking outside
            window.addEventListener('click', (event) => {
                if (event.target === document.getElementById('comparison-modal')) {
                    closeComparisonModal();
                }
                if (event.target === document.getElementById('image-modal')) {
                    closeImageModal();
                }
            });
        });
    </script>
</body>

</html>
